<!doctype html>
<html lang="eng">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daniel Teleginski Camargo</title>
</head>

<body>
    <div class="phone-list">
        <div class="phone">
            <label for="phone-0">Phone 1</label>
            <input id="phone-0" type="tel" />
        </div>
    </div>
    <br />
    <button onclick="addPhone()">Add phone</button>

    <button onclick="removeLastPhone()" id="remove">Remove last phone</button>
</body>

<script>
    function addPhone() {
        const phoneList = document.querySelector(".phone-list")
        const existing = phoneList.querySelectorAll(".phone")
        const nextPhone = document.createElement("div")
        nextPhone.classList.add("phone")
        // Create label
        const nextPhoneLabel = document.createElement("label")
        nextPhoneLabel.innerText = "Phone " + (existing.length + 1)
        nextPhoneLabel.setAttribute("for", `phone-${existing.length}`)
        nextPhone.append(nextPhoneLabel)
        // Create input
        const nextPhoneInput = document.createElement("input")
        nextPhoneInput.setAttribute("id", `phone-${existing.length}`)
        nextPhoneInput.setAttribute("type", "tel")
        nextPhone.append(nextPhoneInput)
        // Append to phoneList
        phoneList.append(nextPhone)

        const removeButton = document.getElementById("remove")
        removeButton.removeAttribute("disabled")
    }
    function removeLastPhone() {
        const phoneList = document.querySelector(".phone-list")
        const phones = phoneList.querySelectorAll(".phone")
        const size = phones.length
        phones[phones.length - 1].remove()
        if (size === 1) {
            const removeButton = document.getElementById("remove")
            removeButton.setAttribute("disabled", 'true')

        }
    }
</script>

</html>
